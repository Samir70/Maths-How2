<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- This is the dev version of Vue, should change to min version -->
    <script src="../../VueSource/vue-dev.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HCF of 3 numbers</title>
</head>
<body>
    <header id="header-space">
        <header-links></header-links>
    </header>
    <script src="../../Components/Header.js"></script>
    <script>
        var makeHeader = new Vue({
            el: "#header-space"
        })
    </script>

    <h1>Using common factors to find Highest Common Factor</h1>
    <div id="hcf">
        <p>What is the HCF of {{curQ.nums.join(', ')}}?</p>
        <div v-if="showFeedback">
            <p>{{feedback}}</p>
            <button v-on:click="nextQ" >Another Question</button>
        </div>
        <div v-else>
            <input type="text" placeholder="answer" v-model:value="userAns" />
            <button v-on:click="checkAns">Check Answer</button>
            <p>Can't find the HCF in one go? <br/> Find any common factor.</p>
            <p>Think of a number that divides all three of {{curQ.nums.join(', ')}}. <br/> 
            Put it in the table.</p>
            <table>
                <thead>
                    <tr>
                        <td><input type="text" placeholder="CF" v-model:value="userCF" v-on:change="updateTable" /></td>
                        <td v-for="n of curQ.nums">{{n}}</td>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
    <script>
        const coprimeTriples = [
            [1,4,5], [2, 3, 5], [3, 4, 5], [3, 4, 7]
        ];
        const hcfQ = () => {
            let r = Math.floor(Math.random() * coprimeTriples.length)
            let nums = coprimeTriples[r], hcf = 1
            for (let i = 0; i < 2; i++) {
                let m = Math.floor(Math.random() * 10) + 2 // [2..11]
                nums = nums.map(n => n*m);
                hcf *= m
            }
            console.log({nums, hcf})
            return {nums, hcf}
        }
        var app = new Vue({
            el: '#hcf',
            data: {
                curQ: hcfQ(),
                userAns: '', userCF: '',
                feedback: 'Answer not checked yet!',
                showFeedback: false
            },
            methods: {
                checkAns: function() {
                    let ans = Number(this.userAns)
                    if (ans === this.curQ.hcf) {
                        this.feedback = `Correct! HCF(${this.curQ.nums.join(', ')}) is ${this.userAns}`
                    } else {
                        this.feedback = `Wrong! HCF(${this.curQ.nums.join(', ')}) is ${this.curQ.hcf}`
                    }
                    this.showFeedback = true
                },
                nextQ: function() {
                    this.curQ = hcfQ();
                    this.userAns = ''
                    this.showFeedback = false
                }
            }
        })
    </script>

    <footer id="footer-space">
        <footer-links></footer-links>
    </footer>
    <script src="../../Components/Footer.js"></script>
    <script>
        var makeFooter = new Vue({
            el: "#footer-space"
        })
    </script>
</body>
<style>
    @import '../../mathsHow2.css';
</style>
</html>